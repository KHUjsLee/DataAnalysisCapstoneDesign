# DataAnalysisCapstoneDesign
(1) 프로젝트 목적
사용자가 가지고 있는 재료들을 최대한 활용함과 동시에 사용자의 취향 및 선호도를 반영한 레시피를 추천해주기 위해 추천 시스템을 구현했다. 

(2) 사용된 데이터
 사용자의 취향과 사용자가 가지고 있는 재료들을 최대한 활용한 레시피를 추천하기 위해 한 가지 메뉴에 대해 다양한 재료와 레시피를 포함하는 데이터를 사용했다. 해당 데이터는 <만개의  레시피> 웹 사이트에서 직접 수집해 목적에 맞게 전처리한 데이터이다. 총 데이터의 수는 2,293,717개이며, 각 데이터는 요리명, 요리 재료, 레시피로 구성되어 있다. 

(3) 추천 시스템 작동 방식
- Content-based Filtering
콘텐츠 기반 필터링은 사용자가 소비한 아이템의 내용이 비슷하거나 유사한 관계에 있는 다른 아이템을 추천하는 방법이다. 아이템의 내용은 아이템을 표현할 수 있는 데이터가 주로 사용되는데, 아이템 카테고리 등과 같은 텍스트 데이터 또는 아이템을 나타내는 이미지 데이터가 주로 사용된다. 아이템이 유사한지 확인하기 위해서는 아이템의 비슷한 정도(유사도)를 수치로 계산하는 것이 가능해야 한다. 일반적으로 유사도 계산을 위해서는 아이템을 벡터 형태로 표현하고 이들 간의 벡터 유사도를 계산하는 방법을 활용한다. 사용자 취향을 고려한 재료 기반 맞춤형 레시피 추천 시스템은 사용자에게 입력 받은 정보(사용자의 취향이 반영된 정보)를 활용해 요리 재료라는 아이템의 내용을 바탕으로 유사한 아이템 즉, 레시피를 추천해준다.

- TF-IDF (Term Frequency-inverse frequency)
TF-IDF 방식은 텍스트 데이터의 특징을 추출하기 위한 방법 중 하나로 텍스트 데이터를 벡터로 변환해준다. TF-IDF 계산을 위해서는 TF와 IDF 값을 계산해 곱하는 과정을 거친다. TF 값과 IDF 값에 대한 정의는 다음과 같다.
TF : Term Frequency : 하나의 문서 안에서 특정 단어의 등장 빈도를 의미
DF : Document Frequency : 특정 단어가 나타나는 문서의 수
IDF : DF에 일종의 역수변환을 해준 값
즉, IDF 값이 클수록 해당 단어가 문서 내에서 높은 가중치를 부여 받게 되는데, IDF 값이 큰 단어일수록 중요한 문서 내에서 중요한 의미를 갖는다. 이를 추천 시스템에 적용하면, 각 데이터 별 재료 데이터를 활용해 각 레시피를 하나의 벡터로 표현할 수 있고, 계산된 벡터 간의 코사인 유사도 계산을 통해 유사도 값이 높은 레시피를 추천하게 된다. 

(4) 모델의 작동 방식
 모델은 크게 3번의 필터링 과정을 거쳐 최종적으로 10개의 메뉴를 추천하게 된다. 
![image](https://user-images.githubusercontent.com/96854885/209152926-b7591f36-72ed-4ab4-8f52-bf0db1a7ff52.png)

1차 필터링의 경우, 사용자에게 선호하는 음식의 대분류를 입력 받는다. 입력된 음식의 대분류를 기준으로 1차적으로 메뉴를 선별하게 된다. 예를 들어 사용자가 찌개, 메인반찬, 샐러드, 디저트 등과 같은 총 13개의 대분류 중에서 ‘찌개’라는 대분류를 선택하면, 가지고 있는 데이터 중에서 ‘찌개’로 분류된 데이터들을 단순 추출한다. 
![image](https://user-images.githubusercontent.com/96854885/209153008-9048a5e9-412d-4ddd-a135-0c2428b66f4a.png)

<1차 필터링 예시 화면>
이렇게 1차 선별을 마친 후 사용자에게 다시 한 번 선택한 대분류 중에서 만들고 싶은 대표메뉴를 선택하도록 한다. 예를 들어 사용자가 ‘찌개’라는 대분류 중에서 ‘순두부찌개’라는 대표메뉴를 선택한 경우 선택된 대표 메뉴와 유사한 대표 메뉴들을 2차적으로 선별한다. 
![image](https://user-images.githubusercontent.com/96854885/209153106-002b21c6-c439-414e-aa94-1de5a781cb6d.png)

<2차 필터링 예시 화면>
마지막으로 사용자가 가진 요리 재료 중에서 사용하고 싶은 재료를 입력한다. 2차 선별을 마친 데이터들 중에서 입력된 재료를 가장 많이 활용할 수 있는 상위 10개의 메뉴를 최종적으로 레시피와 함께 출력하게 된다.   
![image](https://user-images.githubusercontent.com/96854885/209153146-2222a3ea-7030-4649-a9ea-0ab95adf1f66.png)

<3차 필터링 및 최종 추천 결과 예시 화면>

